---
import Button from '@components/ui/Button.astro';
import i18next, { t } from 'i18next';
import spanishCV from '@assets/files/spanishCV.pdf';
import englishCV from '@assets/files/englishCV.pdf';
import ToggleTheme from '@components/ui/ToggleTheme.astro';
import { Astronav, MenuIcon, MenuItems, Dropdown, DropdownItems } from 'astro-navbar';
const menuitems = [
	{
		title: t("navbar.about"),
		path: '#about',
	},
	{
		title: t("navbar.education"),
		path: '#education',
	},
	{
		title: t("navbar.experience"),
		path: '#experience',
	},
	{
		title: t("navbar.projects"),
		path: '#projects',
	},
	{
		title: t("navbar.skills"),
		path: '#skills',
	},
	{
		title: t("navbar.contact"),
		path: '#contact',
	},
	{
		title: "Blog",
		path: 'https://www.aprendiendodesarrollo.com',
	}
];
---

<header data-testId="header" class="my-5 flex flex-col items-center justify-between lg:flex-row">
	<Astronav>
		<div class="flex w-full items-center justify-between lg:w-auto">
			<Button size={'sm'} name="Download CV"><a href={i18next.language == "en" ? englishCV : spanishCV} download="Blesy-AnguloCV.pdf">{t("navbar.CV")}</a></Button>
			<div class="block lg:hidden">
				<MenuIcon class="h-4 w-4 text-black dark:text-white" />
			</div>
		</div>
		<MenuItems class="mt-2 hidden w-full lg:mt-0 lg:flex lg:w-auto">
			<ul class="flex flex-col lg:flex-row lg:gap-3">
				{
					menuitems.map((item) => (
						<>
							<li>
								<a
									aria-label="navigation link"
									href={item.path}
									class="flex py-2 text-black hover:text-orange dark:text-white dark:hover:text-orange lg:px-3"
								>
									{item.title}
								</a>
							</li>
						</>
					))
				}
				<li>
					<Dropdown class="group">
					   <button class="flex py-2 text-black hover:text-orange dark:text-white dark:hover:text-orange lg:px-3">
						  <span>{t("navbar.language")}</span>
						  <svg
							 xmlns="http://www.w3.org/2000/svg"
							 fill="none"
							 viewBox="0 0 24 24"
							 stroke-width="3"
							 stroke="currentColor"
							 class="w-3 h-3 mt-0.5 group-open:rotate-180">
							 <path
								stroke-linecap="round"
								stroke-linejoin="round"
								d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path>
						  </svg>
					   </button>
					   <DropdownItems class="relative">
						  <div
							 class="lg:absolute top-2 w-40 border shadow rounded p-2">
							 <ul>
								<li>
								   <a
								   aria-label="navigation link"
								   href="/"
									class="flex py-2 text-black hover:text-orange dark:text-white dark:hover:text-orange lg:px-3 cursor-pointer">English
								</a>
								</li>
								<li>
								   <a
								   aria-label="navigation link"
								   href="/es"
									class="flex py-2 text-black hover:text-orange dark:text-white dark:hover:text-orange lg:px-3 cursor-pointer">Español
								</a>
								</li>
							 </ul>
						  </div>
					   </DropdownItems>
					</Dropdown>
				</li>
				<li><ToggleTheme /></li>
			</ul>
		</MenuItems>
	</Astronav>
</header>

<script>
	// Encuentra nuestro componente en la página.
	const buttons = document.querySelectorAll('[download-cv]');
	// Agrega event listeners para descargar el cv cuando un botón es clickeado.
	buttons.forEach((button) => {
	  button.addEventListener('click', () => {
		
	  });
	});
  </script>
